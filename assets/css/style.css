/* ===============================
   Reset & layout (共通)
   =============================== */
html,body{margin:0;padding:0}
.site-header,.site-footer,.page-header,.page-footer{display:none!important}
.page-content{padding:0!important;margin:0!important}

/* .wrapper があるテーマ／ないテーマどちらでも中央寄せに揃える */
main.page,.page-content>.wrapper{
  max-width:1200px;
  margin:0 auto;
  padding:12px 16px;
  line-height:1.7;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",
              "Hiragino Kaku Gothic ProN","Noto Sans JP","Hiragino Sans",
              "Yu Gothic","Meiryo",sans-serif;
  word-wrap:anywhere;
  color:#222;
  background:#fff;
}
h1,h2,h3{margin:.8em 0 .4em;line-height:1.25}
h1{font-size:1.9rem} h2{font-size:1.5rem} h3{font-size:1.25rem}

/* リンク/表/引用（共通の素振り） */
a{color:#0366d6;text-decoration:none} 
a:hover{text-decoration:underline}

table{border-collapse:collapse;width:100%;margin:1em 0}
th,td{border:1px solid #999;padding:.6em .8em;vertical-align:top}
th{text-align:left;background:#f6f8fa;font-weight:600}

blockquote{
  margin:.9em 0;padding:.7em 1em;
  border-left:4px solid #d0d7de;background:#f8fafc
}

/* 画像・コード */
img{max-width:100%;height:auto;display:block}
pre{overflow:auto;padding:10px;background:#fafafa;border:1px solid #eee;border-radius:4px}
code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}

/* ===============================
   Portal Unified Theme (Sepia)
   =============================== */
body.theme-sepia main.page,
body.theme-sepia .page-content>.wrapper{background:#fdf6e3;color:#3b2f2f}

body.theme-sepia h1,body.theme-sepia h2,body.theme-sepia h3{
  color:#003366;border-bottom:none;font-weight:700
}
body.theme-sepia h1{font-size:2rem;text-align:left;margin-bottom:.8em}

body.theme-sepia a{color:#0066cc;font-weight:600;font-size:.95em;text-decoration:underline}
body.theme-sepia a:hover{color:#004c99}

body.theme-sepia table{border:2px solid #999}
body.theme-sepia th{
  background:#e9ddc9;color:#2b2b2b;border:2px solid #999;padding:.8em 1em
}
body.theme-sepia td{
  border:1.5px solid #bbb;color:#2b2b2b;padding:.8em 1em
}
body.theme-sepia tbody tr:nth-child(odd) td{background:#fff}
body.theme-sepia tbody tr:nth-child(even) td{background:#f3efe6}

body.theme-sepia blockquote{
  background:#fbf6eb;border-left:4px solid #007acc;color:#3a3028
}

/* ===============================
   Rekiden Theme (Dark Wood)
   =============================== */
body.theme-rekiden{
  --rk-ink:#f4f1e6; --rk-head:#f0d090; --rk-accent:#b48a60;
  font-family:"Noto Serif JP","Hiragino Mincho ProN","Yu Mincho","Times New Roman",serif;
  font-feature-settings:"palt" 1,"pkna" 1;
  line-height:1.85;font-size:17px;color:var(--rk-ink);

  /* 木目背景（画像 → 擬似木目 → 単色） */
  background:
    url("{{ '/Rekiden/assets/bg/wood-dark.PNG' | relative_url }}?v={{ site.time | date: '%s' }}") repeat,
    radial-gradient(ellipse at 20% 30%, rgba(255,255,255,.06) 0 40%, transparent 45%),
    radial-gradient(ellipse at 70% 60%, rgba(255,255,255,.05) 0 35%, transparent 40%),
    repeating-linear-gradient(90deg, rgba(255,255,255,.035) 0 2px, transparent 2px 6px),
    repeating-linear-gradient(0deg,  rgba(0,0,0,.06) 0 1px,  transparent 1px 4px);
  background-size:auto,340px 340px,340px 340px,12px 100%,100% 6px;
  background-position:center center;
  background-attachment:fixed;
  background-color:#3b2a1a;
}

/* 本文パネル */
body.theme-rekiden main.page,
body.theme-rekiden .page-content>.wrapper{
  background:rgba(60,40,25,.78)!important;
  color:var(--rk-ink);
  border:1px solid rgba(255,255,255,.14);
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.6);
}

/* 見出し */
body.theme-rekiden h1,body.theme-rekiden h2,body.theme-rekiden h3{
  color:var(--rk-head);font-weight:700;
  border-bottom:2px solid var(--rk-accent);
  padding-bottom:4px;margin:1.1em 0 .6em
}
body.theme-rekiden h1{font-size:2rem} 
body.theme-rekiden h2{font-size:1.6rem} 
body.theme-rekiden h3{font-size:1.3rem}

/* リンク */
body.theme-rekiden a{color:#f0c060;font-weight:600;text-decoration:none}
body.theme-rekiden a:hover{color:#dba84f;text-decoration:underline}

/* 表 */
body.theme-rekiden table{
  border:1.5px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.06)
}
body.theme-rekiden th{
  background:rgba(255,255,255,.12);color:#fff5dc;
  border:1.5px solid rgba(255,255,255,.16);padding:.7em .9em
}
body.theme-rekiden td{
  border:1px solid rgba(255,255,255,.16);
  color:var(--rk-ink);padding:.7em .9em
}
body.theme-rekiden tbody tr:nth-child(even) td{
  background:rgba(255,255,255,.04)
}

/* 引用 */
body.theme-rekiden blockquote{
  margin:.9em 0;padding:.7em 1em;color:#fff1d8;
  background:rgba(255,255,255,.08);
  border-left:6px solid var(--rk-accent);border-radius:6px
}

/* モバイル */
@media (max-width:640px){
  body.theme-rekiden .page-content>.wrapper,
  body.theme-rekiden main.page{padding:16px 12px}
  body.theme-rekiden h1{font-size:1.7rem}
  body.theme-rekiden h2{font-size:1.35rem}
}

/* 動きを抑える端末 → 固定背景解除 */
@media (prefers-reduced-motion:reduce){
  body.theme-rekiden{background-attachment:scroll}
}
